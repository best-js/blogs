FAB 技术分析之：区块链在通用领域如何落地
----------

2018/1/10

&nbsp;

上周末我研究了一下发链（Fast Access Blockchain, FAB），发现这个区块链很符合我的预期，计划写一篇技术分析文章，本文是前半部分。

考虑到一篇文章内容偏长，也过于技术化，就分成上、下两篇。上篇是辅垫，内容基础些，如果略过上篇直接看下篇，估计一些读者会觉得费劲。本文是上篇，先介绍我对区块链的基本认识，指出一些容易误解的地方，再讲讲区块链在通用领域该如何落地，下篇则深入分析 FAB 发链白皮书中技术内容。

&nbsp;

### 1. 前言

国人最擅长跟风抄袭，近一年新冒出来的某某币、某某链太多，都烂大街了。值得我花两天时间去研究，再去写一篇文章的，自然不是寻常之物。—— 嗯，我自己开发的几个开源项目，都懒得写文章说一说。

关于发链的介绍，可参考这篇，[“FAB 宣布全球区块链交易瓶颈获重大突破”](https://www.toutiao.com/i6507087203984736781/)，FAB 的官网是： `https://fa.biz/`，官网上有中文版白皮书，大家不妨自行下载了解细节。

![FAB](md/res/D180108-01/fab.jpg)

事先声明，本人只是区块链技术的深度关注者，还算不上是专家，文章若有偏颇、错谬之处，还请谅解。

这几年我在弄一款 “可编程网盘” 产品，要用到区块链技术，所以，这个领域我一直在深度关注，比特币刚起来时只是轻度关注，以太坊众筹时就切换到深度关注了。所谓深度关注，就是经常从技术实施层面做分析，了解各家技术方案，臆测若是自己去做，该怎么做架构，离自己动手造轮子，还差一项：拿别人的源码琢磨一遍。

我当然不会去造轮子，术业有专攻，没那么多精力。我当守夜人，专等别人把东西做好，搞对接，能搭别人的顺风车就好。还是先介绍一下我手头的产品吧，反正过不了多久，我们仍会通盘托出的，不必藏着掖着了。这里提下背景，与后文所说 “我们希望有什么样的区块链平台” 有关系。

我从事的产品是 “下一代可编程网盘”，与之对标的上一代网盘产品，有 Dropbox，Google 云盘等。有两方面大改进，其一，在上一代网盘基础上叠加更牛 X 的可编程特质，适应网站静态化开发，对照来说，在 github 提交 gh-pages 分支，然后你的网站 APP 就有了吧，顺这个思路我们会把相关特性做得更透彻；静态托管，辅以 API 调用，另有微服务，叠加 Serverless 等；其二，将 “价值链” 机制纳入底层服务，一段文字没有轻重之分，Google 将它分解，拆成若干关键字，加上权重就能论斤卖了，这里的 “权重” 就是 “价值”，价值经传递即成链式结构。

我们的价值链机制用到区块链技术，有价值的东西可以上浮，也能下沉；分布式、去中心化可保障价值传递过程是公平、公开的；然后贯通支付环节，一个体系就盘活了。

### 2. 比特币疯狂背后，区块链技术普遍被忽视了

**涨疯了的比特币注定是一场骗局**，许多人已看清这一点，我不是什么名人，不必顾忌把话说错了，不像一些名人，说话留些余地。

其一，比特币发行总量有限制，表面稀缺是伪稀缺，就像某人擅长吹肥皂泡，吹出的泡又大又漂亮，还结实，他宣布一生只吹 100 个泡，稀缺吧？那又如何，同样擅长吹泡泡的人有的是，一种币供应市场不够，再造一个便是。其二，泡沫破灭后，比特币可能不会消失，但跌去大部分市值，它将萎缩回原先该有的大小，也就是：与地下经济的需求量相称，虽不大，仍支撑比特币及类似货币，能长期存活。其三，比特币有两个先天缺陷：交易吞吐量存在瓶颈、头部持币人过于集中（前一千位持有 40% 币量），他们多数在早期就持有，在币圈混，互相熟悉，这个平台太容易被人操控了。

比特币是一项伟大创新，在它背后有区块链技术，比特币因为区块链而伟大，反过来则不是。**理解区块链的重大意义，应从生产关系的高度重新认识**，下面我举两件亲身经历的事情来说明。

&nbsp;

半年前我要出租房子，因为多年没处理这种事了，我还像以前那样，找58同城、租房网等网站发布信息，然后等别人打电话进来，谁知，一周下来，根本没有租客电话，接到的全是中介的电话。我觉得不对劲，仔细分析原因，才发现世道早变了，各平台仍能免费发布信息，但全都增设付费推广服务，他们还为中介提供优惠套餐。结果是，你免费发布的信息，如果不做推广，马上被发自中介的、轮番自动更新的信息淹没掉，租客根本看不到你的内容。最后你不得不掏钱做推广，等房子租出去时，额外掏出的钱也够付中介费了。

在租房整个环节中，中介没创造价值（有个前提，我的时间很自由，不像别人必须依赖中介），信息平台也只是公布了一条信息，成本极低。然而，为了让需求两端对接，却支付那么高费用，相当于一线城市上班族半月工资。如果换在区块链平台做成此事，成本要低很多，甚至接近于零成本，怎么做到呢？

首先要有区块链网络，设想一下，若干年后，区块链像今天的互联网一样普及，区块网无处不在，代表公民的身份识别器，能随时能接入网络。我想象一下身份识别器的样式，可能与目前银行提供的 U 盾类似，见下图，若与手机等终端融合，用起来更方便。

<p><img alt="身份识别器" src='md/res/D180108-01/usb_key1.jpg'/> <img alt="身份识别器" src='md/res/D180108-01/usb_key2.jpg'/></p>

然后是 “真实房源认证”，很简单，购房后国土局会在区块网登记你的资产权益。当你在 58 同城发布信息时，系统将发起一次跨节点认证，类似于现在的 OAuth 技术，以国土局账号对信息平台的账号进行授权，确认你的房产是真实的。不过，在区块链网络，第 3 方授权认证更简单，你甚至感觉不到各平台账号的注册过程，因为信息平台也是区块链网络中一个受信节点，经授权的消息在节点间能自动传送，关联信息都不必手工录入。

**区块链技术提供了可靠的中介连接器，解决人与人之间信任问题，甚至，连竞争对手也能有条件的创建信任**。比如美国的商业银行与信用合作社之间存在竞争关系，一个侧重商业实体，另一个侧重个人，但竞争关系并不妨碍他们在分布式记账系统方面的合作，而传统形式很难达支持该目标。有一点很关键，区块链中的节点既提供信任，也支持有效隔离，像上面举例房产中介的场景，如果只是租房，国土局对信息发布平台的授权仅限于，告诉所属房产在哪个小区、有多大面积，其它信息一律不提供，但如果发起一次房产买卖交易，授权给中介可获取的信息，则更全面。

&nbsp;

另一个例子，上个月我去社保局帮我妹办理生育报销，跑三次才把流程办下来，第一次因为出院单少盖一个章，只得寄原件回去补盖，第二次因为人多没取到号，最后报回的钱还真不够支付跑腿费用的，不只社保局，还有其它几个老爷机构要跑。不过有人更惨，来社保局 7 趟了还没把事情办成，是个女孩子，坐一旁委屈得直掉眼泪。涉及环节太多了，要办出生证，医院出具多份单据与证明材料，社保卡要升金融卡，计生部门提供证明，单位出外派证明，还须有代办委托书，身份证、户口本、结婚证等，样样得齐全。我细数了一下，所需材料全有电子档，所有环节都已电子化，连计生证明都是电脑打印的，只缺盖章，再自动把它们串起来。

![跪式窗口](md/res/D180108-01/low_win.jpg)   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（希望这种排队越来越少）

如果用区块链技术支持政务流程，来来回回的纸件证明全能省掉，以生育报销为例，出院结算时，护士让你出示一下社保卡，所谓结算就是生成一份智能合约，社保卡就能代表你的身份。抱走你的娃，开启美好人生，剩下琐事让系统自动去做吧。

社会进步一方面依赖生产力提高，另一方面也依赖生产关系提升，**虽然区块链只是一项技术，但它确实能重组生产要素，让他们以更优方式结合，简化中间环节，从而提升社会整体效率**。假设一下，应用了区块链技术，还需要那么多机构、那么些办事员吗？公务员能不能减半？应用于房产中介，中介的工作是不是收缩到事务性服务了？比方你没时间，他替你跑下腿，不懂表格怎么填，手把手教你一下，保留三分之一从业人员就够了。

区块链技术的效能被广泛低估了，这是一项甚至可比肩 web 的技术发明。据达沃斯论坛创始人克劳斯·施瓦布（Klaus Schwab）认为：区块链作为继蒸汽机、电气 化、计算机之后的第四次工业革命的重要成果，预计到 2025 年之前，全球 GDP 总量的 10% 将利用区块链技术储存。

### 3. 区块链走向实用的途径

区块链有三种存在形式：公有链、联盟链、私有链。公有链人人可访问，如 BTC、ETH、NEO、量子链等，联盟链由联盟成员商定成立，别人无法参与挖矿，其链内节点是预先商定的，有优质网络连接，承载业务（当前大家看到的以金融为主）有固定范围。私有链则在一个企业或者机构内部构建，参与的节点只限内部用户。

我一直怀疑是否有私有链存在的必要，既然全由自己主导控制，常规集中式服务不是更好吗？

接下来我要臆测几个结论，正不正确留以后观察。

#### 3.1 今后的区块链会是什么样的网络？单网还是多网？

我的结论是：**数张大网与若干小网并存**。影响作此结论有几个重要因素：共识算法、组网要求、行业特性。

首先，行业特性让区块链网络呈现分立状态

> 金融业必然建立自己的联盟链，他的安全强度、共识算法与别家必定不同。但我们也不能按金融、非金融简单划分两类，非金融领域还会数张大网，比如医疗的、政务的、物联的、游戏社交、知识服务等，他们在吞吐量、稳定性、响应速度、信息体量等方面各有要求，比如大宗交易 10 分钟确认可以接受，但查下快件配送到哪个环节，等 10 分钟给结果显然不可接受，安全可靠度的要求也不尽相同，有些只需 “见证”，有些要求 “确认”。诸多品质想在一张大网全面兼顾，比较难。

其次，维持共识的成本与虹吸效应，决定了公有链大网的数量不会很多。

> 工作量证明（Proof of Work，POW）仍是目前最过硬的共识算法，在可预见的将来，POW 在公有链仍处主导地位。权益证明（Proof of Stake，POS）虽不像 POW 那么浪费能源，但我相信所有公有链都不敢一开始就单独用它建立共识，把持 51% 算力很难，要硬实力，但把持币龄只需软实力，容易得多，手段也多些。而且发起方更容易获得先天优势，想让别人信服，他们也只会让 POS 充当辅助证明的角色。所以，对于公有链，起步阶段仍少不了想办法吸引大量矿工入驻。一个公有链若在一个行业站稳脚跟，马上产生虹吸效应，上下游实体很快都会吸过去，后起的、同质化的公有链应该机会不多。

> 有数张大网后，小网仍有生存空间，独特的小需求只能靠小网提供。另外，对于特定垂直领域，结合专业领域的特点，完全可以定制更优的共识算法，单凭算力来证明太狂暴。

区块链还处于发展初期，变数很多，以后会有更好的识算法冒出。如果环境变化，比如量子计算实用了，现有主流区块链体系估计都得改。所以，评估一种区块链技术，**还得把适应变化的能力考虑进去**。

#### 3.2 怎样才算提供完整的信任体系？

比特币算不算完整的信任体系？当然不算，如果算，它就能当法定货币使用了。看看当下的比特币状况，无论在理论上，还是现实表现，显然无法与法币同列。

数字货币要怎样才是完整可信任的呢？答案很简单，要有国家信用背书。国家发行货币，除了保障它不可复制、可流通外，还要做许多保障措施，比特币只保证了不可复制与可流通，其它都缺。比如币值忽高忽低，怎么可能拿它支持现实商业，国家平抑币值有整套措施，市场钱多了，就自己收回一些，钱少了就放点水，比特币没有这种机制。

那么，一个区块链系统怎样才算提供了完整的信任体系呢？答案同样简单，**要有配套的，实体形式的认证机构**。比方说，用区块链技术保障真实品质奶源，做到了所有环节都可追踪，但牧民仍以次充好，怎么办？或者在出厂打包环节，有人加水怎么办？所以，现实世界还得有惩戒机构，像行业协会、政府管理机构等，不能缺失。

由此推导下去，一个优质的区块链系统，并非只是保证人人平等参与那么简单，区块链是去中心化的，监督管理却是中心化的，但这是另一层面的话题，两者不冲突。不只是监督管理，一次商务活动中，也并非参与者全都平等，不同层级的人，有不同的执行权限。**对于区块链架构设计而言，必须将分层角色的权限与行为考虑进去**，否则，该系统的实用性会很差，是烂系统。

比如说，纯粹的比特币交易，只需见证各次转账事务。而在支撑现实商务的区块链中的做交易，系统不只见证交易事务，还要见证交易双方的账号属性，特定属性与智能合约的执行权限能够关联。

#### 3.3 该不该平抑币值？

目前市面所见的 “类比特币” 系统，全部没有平抑币值的能力，从设计上说，这是合理的，作为去中心化的虚拟货币，就不该搭配中心化的控制能力。但若从商业实用性考虑，平抑币值又是紧迫需求。

区块链本质是 “分布式的公共协议” 加上 “价值网络”，它有协议属性与货币属性。前者指借助共识算法建立全网信任，协议作为公共 lib 库方式存在的，要支撑起业务应用才展现价值。后者货币属性，是通过代币保证生态体系的 “价值激励”。无论协议属性，还是货币属性，**其核心价值应体现在 “对所承载业务产生交易抽取提成”，挖矿只能算暂态价值，是聚拢人气之前的临时手段**。优质的区块链体系应该这么去定位，现在币圈太乱，大家把事情都做反了，炒币反倒成为终极目标。

拿以太币举例，在发展初期，没有交易或交易量很低，单靠交易抽成无法维持系统运转，所以必须提供通过挖矿获得收益的手段。系统一上线，以太币的价格体系就建立了，但失控随之而来，许多因素都会影响到它。比特币上涨，它会跟着涨，自身出点事故，币值应声下跌（还记得 DAO 项目被黑，以太币直跌 23% 的事吗？），没有像股市涨停、跌停控制，各类虚拟货币必然都是忽高忽低、跳跃不止的。

如何平抑币值的问题曾经困扰了我很久，得出结论是：**不是币值该不该平抑，而是要不要作隔离，以及隔离措施该如何实现**。

然后，我们所期望的区块链体系，该怎么设计是对的就有明确思路了。它应该是分层、分级别的，它应该还是容纳多币值的体系。目前各种代币的 ICO 过程，普遍以比特币或以太币启动，一种币值转换成另一种币值，转换本身是一种隔离手段，我们期望的隔离措施应该是：

1. 基础的共识算法与安全设施要共享，成为全局资源

2. 入驻的第 3 方厂商能自定义一种货币，扩展代币与基础代币能自由兑换，入驻厂商有多个，扩展代币也有多种，扩展币与基础币构成两级关系。

3. 扩展代币的币值盯住一种法币（人民币、美元等），基础代币有波动由入驻厂商去平抑，如果一个区块网已进入良性循环，从交易中抽取的中介费应该比较平稳，不会大起大落，起落差额应由第 3 方厂商抹平。

扩展代币的安全措施也须分级，某些业务没那么重要，由自行扩展系统自行管理就行，稍微重要些的，让全局设施见证一下，对于很重要的业务，才需全局见证并确认。

### 4. 群魔乱舞的 ICO 现状

#### 4.1 币圈最近疯了

太多撒币！有人分享了朋友圈图片。

![撒币](md/res/D180108-01/sabi.jpg)

太多 ICO！这一波是全球风潮。有人为红酒 ICO，有人为香蕉 ICO，有人为建垃圾场 ICO，还有委内瑞拉以国家名义为石油 ICO，甚至有俄罗斯土豪圈了一大堆沙子，也跑出来 ICO 了，一沙币绑一平方沙子，有人要么。

国内互联网大公司，去年还没几个玩 ICO，好么，现在全都上了，即便不做 ICO，也是宣称进军区块链。

种种迹象表明，07 年 10 月 6100 高点即将重现，前方一大波韭菜等待入场。

#### 4.2 有人蒙圈，有人真信，还有人真心

昨天的微博被徐小平泄密事件刷屏了，我粗看第一眼，觉得是炒作，再细读文字，发现徐老师是真心的。

![徐小平的微博](md/res/D180108-01/xiemi1.jpg)

![徐小平的言论](md/res/D180108-01/xiemi2.jpg)

如果人有连代币与区块链都分不清，还赶着炒币，绝好韭菜无疑。连技术白皮书都不看，就扔钱进去，活该被收割，因为，**现在 99% 的 ICO 是骗局**。早上我还看到一篇文章，一位圈内人士说：

> *我必须承认之前我犯了一个错误，我以前说 99% 的 ICO 是有问题的，但我今天必须纠正一下， 100% 的 ICO 都是有问题的。*

这位兄弟 100% 的说法，我 100% 不同意，一棍子全打死了，你好歹换个说法，比如 99.9% 呀，这世上可能真有 0.1% 或 0.01% 实心做事的。

我必须重提上文 “怎样才算提供完整的信任体系” 中给出的结论：要有配套的，实体形式的认证机构。区块链可以记录权益的分配依据，但没有任何一个国家的证券法或企业法，能认可企业股权的区块链分配记录。没有权威机构为你确权，虚拟世界的东西还是难回实体世界，你的账面权益仍缺保障。换而言之，算法可信，能否兑现仍依赖于 ICO 发起者的意愿。

#### 4.3 揭密迅雷玩客币的价值基础

国内玩代币的企业中，迅雷应该算最靠谱的一家，好歹别人还只是玩币，他家开始上应用了，这个应用就是分享家庭闲置带宽与存贮能力。玩 P2P 技术出身，迅雷比别人更有能力发行虚拟货币，还有此前赚钱宝把售卖 CDN 的道路探明了，所以，他家的玩客币大获成功。曾几何时，迅雷曾因长期找不到 “可靠” 业务，股价跌掉了 70%，一推出玩客币，短短 40 天内股价飙升了 6 倍，极其壮观！

我在 16 年 7 月买了一台赚钱宝，把家里百兆光纤的闲置流量用上了，当时是为了研究这种共享模式而买的，预售没抢到，额外多花 300 元从淘宝买回一个。去年 10 月也仔细评估了他家的玩客币，当时的结论是，所谓玩客云就是 “赚钱宝 + 代币”，赚钱宝把闲置流量用上了，叠加代币无非再把算力用上，这个算力还不能算闲置算力，因为赚钱宝已开足马力，算力并不闲置，或许设备升级一下，加了 GPU，电力花费用户替他掏了。

下面我具体分析一下玩客去的价值基础，先看流量共享部分，也就是原先赚钱宝的功能价值。最近 12 个月我家的赚钱宝收益如下图：

![赚钱宝收益](md/res/D180108-01/xunlei.jpg)

统计 12 个月均值为 34元/月，扣除电费，约每月 30 元，设备为赚钱宝（按 220 计算）加上一个大硬盘，共投入 720 元，按 4 年折旧分摊，这项投资的年收益率为：`((30 * 12) - (720 / 4)) / 720 = 25%` 。表面上看收益率还行，不过，宽带租费还没分摊进去，也没把伺候设备花费精力算进去（与玩基金不同，扔钱后不管）。这事对于终端用户，实际上是个鸡肋，对家里已拉光纤的，也就玩一玩，说多高收益真算不上。

再看叠加代币的价值，如果他家代币与别家一样，我相信这个代币极具竞争优势，因为他家矿机与电力近乎免费，从赚钱宝平移过来的功能，已能帮他打平收支，而且，已布局这么多点，组网是现成的，稳定性也经过市场检验了。

&nbsp;
<!-- SLIDE PAGES V1.0, DO NOT CHANGE THIS LINE. -->
<div $=ScenePage key='auto0'></div>
<div $=ScenePage key='auto1' no-show='1'>
  <div $=".pinp.doc_info.thumb" no-show='' left='{-112}' top='{-93}' sty__='{{"background":"url(md/res/D180108-01/fab.jpg) no-repeat center","backgroundSize":"100% 100%"}}' klass='default-large-small p1-p2-p3-p0 visible-auto-hidden default-align_center-right' data-group.optid='pinp/blogs/step4' width='{280}' height='{200}'></div>
</div>
